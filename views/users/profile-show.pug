extends ../layout.pug


block content
    include ../includes/topbar.pug  
    .user-content
        .user-profile
            .user-profile-img
                img#user-profile-image(src=user.avatar, alt="User avatar image")
            .user-profile-infos
                h3 @#{user.username}
                p #{user.firstname} #{user.lastname}
            if currentUser._id.toString() != user._id.toString()
                .user-profile-actions
                    if currentUser.followings.includes(user._id.toString())
                        a(href=`/user/unfollow/${user._id}` class="btn btn-primary") unfollow
                    else
                        a(href=`/user/follow/${user._id}` class="btn btn-primary") Follow
            .user-profile-data
                .user-profile-data-posts
                    p Posts
                    p= tweets.length
                .user-profile-data-followers
                    p Followers
                    p= user.followers.length
                .user-profile-data-following
                    p Following
                    p= user.followings.length
            if currentUser
                .user-profile-delete    
                        p Delete your profile ?
                        a(href=`./delete/${user._id}` class="btn btn-primary") Delete profile
    .tweets-user-container
        .tweets-user-list
            if isAuthenticated
            if tweets
                each tweet in tweets
                    include ../includes/tweet-card.pug